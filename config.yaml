# Event Detection Configuration (English Version)

# Model Paths
models:
  vlm_path: "/data2/pyh/model_weights/qwen25vl_7b"
  yolo_model: "yolov8s-worldv2"
  clip_model: "ViT-B/32"

# Video Processing
video:
  base_fps: 5
  active_fps: 10
  no_detection_frames: 20

# Detection Thresholds
detection:
  clip_consecutive_frames: 5
  event_start_frames: 3
  event_end_frames: 20

# Cropping Strategy
cropping:
  interaction_expand: 1.1
  single_expand: 1.2
  scene_expand: 1.3

# VLM Worker Pool
vlm:
  max_workers: 3
  queue_size: 50

# Output Settings
output:
  save_json: true
  json_path: "./detection_results.json"
  save_event_images: true
  event_images_dir: "./event_images"
  detailed_logging: true
  output_base_dir: "./output"
  save_yolo_detections: true
  save_clip_scores: true
  save_vlm_results: true
  yolo_sample_rate: 30
  clip_sample_rate: 10

# Event Definitions
events:
  # --- Location Events ---
  - name: "Entering Exiting"
    type: "location"
    entities:
      - "person"
      - "door"
    positive_desc: "A person walking through a doorway, entering or exiting a room"
    negative_descs:
      - "A person standing still near a door"
      - "A closed door with no one"
      - "An empty doorway"

  # --- Interaction Events ---
  - name: "Petting Cat"
    type: "interaction"
    entities:
      - "person"
      - "cat"
    positive_desc: "A person petting, touching, or playing with a cat"
    negative_descs:
      - "A person just looking at a cat"
      - "A cat sitting alone"
      - "A person and a cat in the same room but not interacting"

  - name: "Petting Animal"
    type: "interaction"
    entities:
      - "person"
      - "dog"
      - "animal"
    positive_desc: "A person petting or touching an animal (like a dog)"
    negative_descs:
      - "A person standing near an animal without touching"
      - "An animal running alone"

  - name: "Carrying Baby"
    type: "interaction"
    entities:
      - "person"
    positive_desc: "A person holding or carrying a baby in their arms"
    negative_descs:
      - "A person walking next to a stroller"
      - "A baby lying alone"
      - "A person holding a bag"

  - name: "Walking Dog"
    type: "interaction"
    entities:
      - "person"
      - "dog"
    positive_desc: "A person walking a dog on a leash"
    negative_descs:
      - "A dog running loose"
      - "A person and a dog standing still"
      - "A person carrying a dog"

  # --- Single Action Events ---
  - name: "Falling"
    type: "single"
    entities:
      - "person"
    positive_desc: "A person falling down, lying on the floor, or tripping"
    negative_descs:
      - "A person standing normally"
      - "A person walking normally"
      - "A person sitting on a chair"
      - "A person squatting"

  - name: "Baby Crawling"
    type: "single"
    entities:
      - "person"
    positive_desc: "A baby crawling on hands and knees on the floor"
    negative_descs:
      - "A baby lying still"
      - "A baby sitting"
      - "A person walking"

  - name: "Clapping"
    type: "single"
    entities:
      - "person"
    positive_desc: "A person clapping their hands"
    negative_descs:
      - "A person waving hands"
      - "A person with hands down"
      - "A person raising hands"

  - name: "Waving"
    type: "single"
    entities:
      - "person"
    positive_desc: "A person waving their hand to say hello or goodbye"
    negative_descs:
      - "A person clapping"
      - "A person touching their head"
      - "A person with hands by their side"

  # --- Scene Events ---
  - name: "Dining"
    type: "scene"
    entities:
      - "person"
      - "dining table"
      - "food"
    positive_desc: "A group of people sitting around a dining table eating food"
    negative_descs:
      - "People sitting at a table with no food"
      - "An empty dining table"
      - "A person sitting alone looking at a phone"

  - name: "Eating Cake"
    type: "scene"
    entities:
      - "person"
      - "cake"
      - "food"
    positive_desc: "A person eating cake"
    negative_descs:
      - "A cake on a table with no one eating"
      - "A person just looking at a cake"